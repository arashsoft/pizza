<app-navbar></app-navbar>
<div class="container checkout-container">
  <div class="checkout-padding">
    <h4>Checkout</h4>
  </div>
  <div class="checkout-padding bg-white my-1">
    <div class="clearfix">
      <div class="float-left">
        <span class="fa fa-cog mr-3"></span>{{orderService.order.isPickup? "PICKUP" : "DELIVERY"}}
      </div>
      <div class="float-right">
        <button type="button" class="btn btn-sm btn-mealsy2 switch-btn" (click)="orderService.openPickupDelivery()">
          Switch to {{orderService.order.isPickup? "Delivery": "pickup"}}
        </button>
      </div>
    </div>
    <hr>
    <div *ngIf="!orderService.order.isPickup">
      <div class="d-flex flex-row">
        <span class="fa fa-truck pt-1 mr-3"></span>
        <div>{{orderService.order.address.toString()}}</div>
      </div>
      <hr>
    </div>
    <div class="clearfix">
      <div class="float-left">
        <span class="fa fa-calendar mr-3"></span>SCHEDULED FOR
      </div>
      <div class="float-right">{{orderService.order.isForNow? 'Now' : orderService.order.scheduledFor}}</div>
    </div>
    <hr>
    <div>
      <span class="fa fa-money mr-3"></span>TIP
      <div class="d-flex flex-row px-3 mt-3">
        <button type="button" class="btn btn-sm btn-mealsy2 tip-btn ml-1" [ngClass]="{'active': orderService.order.tipType === 1}" (click)="orderService.updateTip(1)">Round</button>
        <button type="button" class="btn btn-sm btn-mealsy2 tip-btn ml-1" [ngClass]="{'active': orderService.order.tipType === 5}"(click)="orderService.updateTip(5)">5%</button>
        <button type="button" class="btn btn-sm btn-mealsy2 tip-btn ml-1" [ngClass]="{'active': orderService.order.tipType === 10}" (click)="orderService.updateTip(10)">10%</button>
        <button type="button" class="btn btn-sm btn-mealsy2 tip-btn ml-1" [ngClass]="{'active': orderService.order.tipType === 15}" (clic1)="orderService.updateTip(15)">15%</button>
      </div>
      <div class="clearfix">
        <label for="tipAmount" class="input-label float-left cursor-pointer">Tip</label>
        <input type="number" class="float-right faded-input" id="tipAmount" name="tipAmount"
               [(ngModel)]="orderService.order.tipAmount" (change)="orderService.updateTip(0)")>
      </div>
    </div>
  </div>
  <div class="checkout-padding bg-white mt-2">
    <div class="clearfix mt-1">
      <h5 class="float-left">Subtotal</h5>
      <h5 class="float-right">{{cartService.cart.subTotalPrice | currency}}</h5>
    </div>
    <div class="clearfix mt-1">
      <h5 class="float-left">Tax</h5>
      <h5 class="float-right">{{cartService.cart.taxPrice | currency}}</h5>
    </div>
    <div class="clearfix mt-1">
      <h5 class="float-left">Delivery Charge</h5>
      <h5 class="float-right">{{cartService.cart.taxPrice | currency}}</h5>
    </div>
    <div class="clearfix mt-1">
      <h5 class="float-left">Discount</h5>
      <h5 class="float-right">{{cartService.cart.taxPrice | currency}}</h5>
    </div>
    <div class="clearfix mt-1 mealsy-green mb-5">
      <h4 class="float-left">TOTAL</h4>
      <h4 class="float-right">{{cartService.cart.totalPrice | currency}}</h4>
    </div>
  </div>
  <div class="checkout-padding bg-white mt-2 mb-5">
    <button type="button" class="btn btn-mealsy1 btn-large d-block mx-auto checkout-btn">ORDER</button>
    <button type="button" class="btn btn-mealsy2 btn-large d-block mx-auto checkout-btn top5" [routerLink]="['/cart']">
      BACK TO CART
    </button>
  </div>
  <h5 class="footer-note bottom30 text-center">Powered by Mealsy.ca</h5>
</div>
